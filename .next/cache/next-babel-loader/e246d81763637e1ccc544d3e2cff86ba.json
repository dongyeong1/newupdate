{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/dong/CapstonProject/pages/polyline.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { View, SafeAreaView, StyleSheet, FlatList, Button, Text } from 'react-native';\nimport MapView, { Marker } from 'react-native-maps';\nimport PolylineDirection from '@react-native-maps/polyline-direction';\nvar a = -36.888300;\nvar b = 174.608994;\nvar origin1 = {\n  latitude: a,\n  longitude: b\n};\nvar destination1 = {\n  latitude: -36.884421,\n  longitude: 174.611068\n};\nvar origin2 = {\n  latitude: -36.884421,\n  longitude: 174.611068\n};\nvar destination2 = {\n  latitude: -36.881972,\n  longitude: 174.615942\n};\nvar GOOGLE_MAPS_APIKEY = 'AIzaSyAYsO2CGL0YCjMoLk29eyitFC2PIJnJbYE';\nvar arr = [{\n  aaa: -36.888300,\n  bbb: 174.608994,\n  ccc: \"on\",\n  ddd: \"시간\"\n}, {\n  aaa: -36.884421,\n  bbb: 174.611068,\n  ccc: \"on\",\n  ddd: \"시간\"\n}, {\n  aaa: -36.881972,\n  bbb: 174.615942,\n  ccc: \"on\",\n  ddd: \"시간\"\n}, {\n  aaa: -36.879012,\n  bbb: 174.621020,\n  ccc: \"on\",\n  ddd: \"시간\"\n}, {\n  aaa: -36.874358,\n  bbb: 174.622397,\n  ccc: \"on\",\n  ddd: \"시간\"\n}, {\n  aaa: -36.877665,\n  bbb: 174.630180,\n  ccc: \"on\",\n  ddd: \"시간\"\n}];\n\nfunction polyline() {\n  _s();\n\n  var _useState = useState(2),\n      count = _useState[0],\n      setCount = _useState[1];\n\n  var _useState2 = useState([]),\n      polyArr = _useState2[0],\n      setPoly = _useState2[1];\n\n  React.useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return dataSettings(arr);\n\n            case 2:\n              data = _context.sent;\n              setPoly(data);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }, []);\n  return __jsx(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, __jsx(MapView, {\n    style: {\n      flex: 1\n    },\n    region: {\n      latitude: a,\n      longitude: b,\n      latitudeDelta: 0.01,\n      longitudeDelta: 0.01\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, __jsx(Marker, {\n    coordinate: {\n      latitude: -36.888300,\n      longitude: 174.608994\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }), polypoly(polyArr)));\n}\n\n_s(polyline, \"AZDRo4jcUPrfkXdj8WOS8cPfXQc=\");\n\nfunction dataSettings(_x) {\n  return _dataSettings.apply(this, arguments);\n}\n\nfunction _dataSettings() {\n  _dataSettings = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(arr_data) {\n    var returnArr, i, data, nextData, _i;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            returnArr = [];\n\n            for (i = 0; i < arr_data.length - 1; i++) {\n              data = arr_data[i];\n              nextData = arr_data[i + 1];\n              returnArr.push({\n                startLati: data.aaa,\n                startLongi: data.bbb,\n                endLati: nextData.aaa,\n                endLongi: nextData.bbb,\n                onOff: data.ccc,\n                time: data.ddd\n              });\n            }\n\n            _i = 0;\n\n          case 3:\n            if (!(_i < returnArr.length)) {\n              _context2.next = 9;\n              break;\n            }\n\n            _context2.next = 6;\n            return fetch('https://maps.googleapis.com/maps/api/geocode/json?address=' + returnArr[_i].startLati + ',' + returnArr[_i].startLongi + '&key=' + GOOGLE_MAPS_APIKEY).then(function (response) {\n              return response.json();\n            }).then(function (responseJson) {\n              console.log('??????? ADDRESS GEOCODE is BACK!! => ' + JSON.stringify(responseJson));\n            });\n\n          case 6:\n            _i++;\n            _context2.next = 3;\n            break;\n\n          case 9:\n            return _context2.abrupt(\"return\", returnArr);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _dataSettings.apply(this, arguments);\n}\n\nfunction polypoly(imsi) {\n  var aaa = [];\n  console.log(\"뻉\" + imsi.length);\n  var leng = imsi.length;\n\n  for (var i = 0; i < leng; i++) {\n    aaa.push(__jsx(PolylineDirection, {\n      origin: {\n        latitude: imsi[i].startLati,\n        longitude: imsi[i].startLongi\n      },\n      destination: {\n        latitude: imsi[i].endLati,\n        longitude: imsi[i].endLongi\n      },\n      apiKey: GOOGLE_MAPS_APIKEY,\n      strokeWidth: i + 1,\n      strokeColor: \"#12bc00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return aaa;\n}\n\nexport default polyline;","map":{"version":3,"sources":["/Users/dong/CapstonProject/pages/polyline.js"],"names":["React","useState","View","SafeAreaView","StyleSheet","FlatList","Button","Text","MapView","Marker","PolylineDirection","a","b","origin1","latitude","longitude","destination1","origin2","destination2","GOOGLE_MAPS_APIKEY","arr","aaa","bbb","ccc","ddd","polyline","count","setCount","polyArr","setPoly","useEffect","dataSettings","data","flex","latitudeDelta","longitudeDelta","polypoly","arr_data","returnArr","i","length","nextData","push","startLati","startLongi","endLati","endLongi","onOff","time","fetch","then","response","json","responseJson","console","log","JSON","stringify","imsi","leng"],"mappings":"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","sourcesContent":[" \n\nimport React, { useState } from 'react';\n\n \n\nimport { View, SafeAreaView, StyleSheet, FlatList, Button, Text } from 'react-native';\n\n \n\nimport MapView, {Marker} from 'react-native-maps';\n\n \n\nimport PolylineDirection from '@react-native-maps/polyline-direction';\n\n \n\nconst a = -36.888300;\n\nconst b = 174.608994;\n\nconst origin1 = { latitude: a, longitude: b };\n\nconst destination1 = { latitude: -36.884421, longitude: 174.611068 };\n\n \n\nconst origin2 = { latitude: -36.884421, longitude: 174.611068 };\n\nconst destination2 = { latitude: -36.881972, longitude: 174.615942 };\n\n \n\nconst GOOGLE_MAPS_APIKEY = 'AIzaSyAYsO2CGL0YCjMoLk29eyitFC2PIJnJbYE';\n\n \n\nconst arr = [\n\n    {aaa:-36.888300,bbb:174.608994,ccc:\"on\",ddd:\"시간\"},  \n\n    {aaa:-36.884421,bbb:174.611068,ccc:\"on\",ddd:\"시간\"},   \n\n    {aaa:-36.881972,bbb:174.615942,ccc:\"on\",ddd:\"시간\"},\n\n    {aaa:-36.879012,bbb:174.621020,ccc:\"on\",ddd:\"시간\"},\n\n    {aaa:-36.874358,bbb:174.622397,ccc:\"on\",ddd:\"시간\"},\n\n    {aaa:-36.877665,bbb:174.630180,ccc:\"on\",ddd:\"시간\"}\n\n]\n\n \n\nfunction polyline() {\n\n    const [count, setCount] = useState(2);\n\n    const [polyArr, setPoly] = useState([]);\n\n \n\n    React.useEffect(() => {\n\n        (async () => {\n\n            const data = await dataSettings(arr);\n\n            setPoly(data);\n\n        })()\n\n    }, []);\n\n \n\n  return (\n\n    <View style={{ flex: 1 }}>\n\n      <MapView\n\n        style={{ flex: 1 }}\n\n        region={{\n\n          latitude: a,\n\n          longitude: b,\n\n          latitudeDelta: 0.01,\n\n          longitudeDelta: 0.01,\n\n        }}>\n\n \n\n        \n\n        <Marker coordinate={{ latitude: -36.888300, longitude: 174.608994 }} />\n\n \n\n        {polypoly(polyArr)}\n\n      </MapView>\n\n    </View>\n\n  );\n\n}\n\n\n\n\n\nasync function dataSettings(arr_data) {\n\n    let returnArr = [];\n\n    for (let i=0; i<arr_data.length-1; i++) {\n\n        let data = arr_data[i];\n\n        let nextData = arr_data[i+1];\n\n        returnArr.push({startLati:data.aaa, startLongi:data.bbb, endLati:nextData.aaa, endLongi:nextData.bbb, onOff:data.ccc, time:data.ddd})\n\n    }\n\n \n\n    for (let i=0; i<returnArr.length; i++) {\n\n        await fetch('https://maps.googleapis.com/maps/api/geocode/json?address=' + returnArr[i].startLati + ',' + returnArr[i].startLongi + '&key=' + GOOGLE_MAPS_APIKEY)\n\n           .then((response) => response.json())\n\n           .then((responseJson) => {\n\n               console.log('??????? ADDRESS GEOCODE is BACK!! => ' + JSON.stringify(responseJson));\n\n            })\n\n    }\n\n \n\n    return returnArr;\n\n}\n\n\n\n\n\nfunction polypoly(imsi) {\n\n    let aaa = [];\n\n    console.log(\"뻉\" + imsi.length);\n\n    let leng = imsi.length;\n\n    for (let i=0; i<leng; i++) {\n\n        aaa.push(\n\n        <PolylineDirection\n\n          origin={{latitude: imsi[i].startLati, longitude: imsi[i].startLongi}}\n\n          destination={{latitude: imsi[i].endLati, longitude: imsi[i].endLongi}}\n\n          apiKey={GOOGLE_MAPS_APIKEY}\n\n          strokeWidth={i+1}\n\n          strokeColor=\"#12bc00\"\n\n        />);\n\n    }\n\n    return aaa;\n\n}\n\n \n\nexport default polyline;"]},"metadata":{},"sourceType":"module"}