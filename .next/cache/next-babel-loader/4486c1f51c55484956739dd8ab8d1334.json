{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/dong/CapstonProject/pages/Logoutlogin.js\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _templateObject7,\n    _templateObject8,\n    _templateObject9,\n    _templateObject10,\n    _templateObject11,\n    _templateObject12;\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport { Layout, Card, Form, Input, Button, Modal } from \"antd\";\nimport Signup from \"./SignUpTest\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport useInput from \"../hooks/useInput\";\nimport axios from \"axios\";\nimport Router from 'next/router';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LOGIN_REQUEST } from \"../reducers/user\";\nimport { signIn, signOut, useSession } from \"next-auth/react\"; // 소셜로그인\n\nimport GoogleButton from \"react-google-button\"; // google 버튼\n\nimport { LOADS_POSTS_REQUEST } from \"../reducers/post\";\nimport wrapper from '../store/configureStore';\nimport { END } from 'redux-saga';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Header = Layout.Header,\n    Footer = Layout.Footer,\n    Content = Layout.Content;\nvar Meta = Card.Meta;\n\nvar Logoutlogin = function Logoutlogin() {\n  _s();\n\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      me = _useSelector.me; //   useEffect(()=>{\n  //     if(me.user !=null){\n  //       Router.push(\n  //         '/'\n  //     )\n  //     dispatch({\n  //      type:LOADS_POSTS_REQUEST\n  //  })\n  //     }\n  //   },[me.user])\n  //logout했을때 아직me가 null이아니라서 다시 /로 router.push된다\n\n\n  useEffect(function () {\n    if (me != null) {\n      Router.push('/');\n      dispatch({\n        type: LOADS_POSTS_REQUEST\n      });\n    }\n  }, [me]);\n\n  var _useSession = useSession(),\n      session = _useSession.data; // 소셜 로그인\n\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = useState(false),\n      isModal = _useState[0],\n      setIsModal = _useState[1];\n\n  var showModal = function showModal() {\n    setIsModal(true);\n  };\n\n  var openModal = function openModal() {\n    setIsModal(function (prev) {\n      return !prev;\n    });\n    console.log(isModal);\n  };\n\n  var _useInput = useInput(\"\"),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      id = _useInput2[0],\n      onChangeId = _useInput2[1];\n\n  var _useInput3 = useInput(\"\"),\n      _useInput4 = _slicedToArray(_useInput3, 2),\n      password = _useInput4[0],\n      onChangePassword = _useInput4[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var body, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              body = {\n                email: id,\n                password: password\n              };\n              console.log(body);\n              _context.next = 4;\n              return dispatch({\n                type: LOGIN_REQUEST,\n                data: body\n              });\n\n            case 4:\n              result = _context.sent;\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderWrapper, {\n      children: \"Runnable\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(ContentWrapper, {\n      children: /*#__PURE__*/_jsxDEV(CardStyle, {\n        children: [/*#__PURE__*/_jsxDEV(MetaDiv, {\n          children: /*#__PURE__*/_jsxDEV(Meta, {\n            title: \"Runnable \\uB85C\\uADF8\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(FormDiv, {\n          children: /*#__PURE__*/_jsxDEV(FormWrapper, {\n            onFinish: onSubmit,\n            form: form,\n            size: \"large\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                value: id,\n                onChange: onChangeId,\n                placeholder: \"\\uC774\\uBA54\\uC77C \\uB610\\uB294 \\uC804\\uD654\\uBC88\\uD638\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              children: /*#__PURE__*/_jsxDEV(Input.Password, {\n                value: password,\n                onChange: onChangePassword,\n                placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(BtnDiv, {\n              children: [/*#__PURE__*/_jsxDEV(LineDiv, {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"line_btn\",\n                  onClick: function onClick() {\n                    signIn(\"line\");\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"btn_base.png\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 21\n                  }, _this), \"LINE\\uC73C\\uB85C \\uC2DC\\uC791\\uD558\\uAE30\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(GoogleDiv, {\n                children: /*#__PURE__*/_jsxDEV(GooBtn, {\n                  type: \"light\",\n                  label: \"Google\\uB85C \\uC2DC\\uC791\\uD558\\uAE30\",\n                  onClick: function onClick() {\n                    signIn(\"google\");\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"default\",\n                htmlType: \"submit\",\n                children: \"Signin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(QuestionDiv, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/findId\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: \"\\uACC4\\uC815\\uC744 \\uC78A\\uC73C\\uC168\\uB098\\uC694?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Meta, {\n            description: \"\\uB610\\uB294\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(SignupBtn, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            onClick: showModal,\n            ghost: true,\n            children: \"\\uC0C8\\uB85C\\uC6B4 \\uACC4\\uC815 \\uC0DD\\uC131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Signup, {\n            isModal: isModal,\n            openModal: openModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Footer, {\n      style: {\n        height: \"20vh\",\n        background: \"#fff\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Logoutlogin, \"lRwXpVv7byaprHPKJkevSQ4moGU=\", false, function () {\n  return [useDispatch, useSelector, useSession, Form.useForm, useInput, useInput];\n});\n\n_c = Logoutlogin;\n\nsignin.getLayout = function getLayout(page) {\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: page\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 10\n  }, this);\n}; // export const getServerSideProps = wrapper.getServerSideProps(async (context) => {\n//   const cookie = context.req ? context.req.headers.cookie : '';\n//   axios.defaults.headers.Cookie = '';\n//   if (context.req && cookie) {\n//     axios.defaults.headers.Cookie = cookie;\n//   }\n//   // context.store.dispatch({\n//   //     type:LOAD_POSTS_REQUEST\n//   // })\n//     context.store.dispatch(END);\n//     await context.store.sagaTask.toPromise();\n// })\n\n\nexport default Logoutlogin; // FormDiv 밑에 추가코드있음\n\nvar SignupBtn = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 100%;\\n  text-align: center;\\n  margin-top: 10px;\\n\\n  & Button {\\n    height: 40px;\\n    border-radius: 7px;\\n  }\\n\"])));\n_c2 = SignupBtn;\nvar QuestionDiv = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 100%;\\n  height: 40px;\\n  text-align: center;\\n  margin-top:10px;\\n\\n  & div {\\n    \\n  }\\n\\n  & a {\\n    font-size: 16px;\\n  }\\n\\n  .ant-card-meta-description::before {\\n    context:'';\\n    background:color: rgba(0, 0, 0, 0.45);\\n  }\\n\"])));\n_c3 = QuestionDiv;\nvar MetaDiv = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 100%;\\n  height: 40px;\\n  text-align: center;\\n\\n  .ant-card-meta-title {\\n    font-size: 18px;\\n  }\\n\"])));\n_c4 = MetaDiv;\nvar FormWrapper = styled(Form)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  .ant-form-item {\\n    margin-bottom: 12px;\\n  }\\n\\n  .ant-input {\\n    height: 54px;\\n    border-radius: 7px;\\n  }\\n\\n  .ant-input-affix-wrapper {\\n    height: 54px;\\n    border-radius: 7px;\\n  }\\n\\n  .ant-input-affix-wrapper > .ant-input {\\n    height: 41px;\\n  }\\n\\n  .ant-card-meta {\\n    display: inline-block;\\n    width: 100%;\\n    height: 40px;\\n    text-align: center;\\n  }\\n\"])));\n_c5 = FormWrapper;\nvar FormDiv = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  Button {\\n    width: 100%;\\n    background: #32a89b;\\n    background: #1890ff;\\n    color: #fff;\\n    height: 48px;\\n    margin-top: 5px;\\n    font-weight: bold;\\n    border-radius: 7px;\\n  }\\n\\n  Button:hover {\\n    background: #1683e8;\\n    border-color: #1683e8;\\n    color: #fff;\\n  }\\n\\n  Button:focus {\\n    background: #1683e8;\\n    color: #fff;\\n  }\\n\"]))); // 코드추가\n\n_c6 = FormDiv;\nvar BtnDiv = styled.div(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n\"])));\n_c7 = BtnDiv;\nvar LineDiv = styled.div(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n  // \\uB77C\\uC778 \\uB85C\\uADF8\\uC778\\n  // align-items: center;\\n  position: relative;\\n\\n  img {\\n    position: absolute;\\n    left: 5px;\\n    color: #fff;\\n  }\\n\\n  .line_btn {\\n    width: 100%;\\n    height: 50px;\\n    line-height: 40px;\\n    background: #06c755;\\n    color: #fff;\\n    border: 1px solid #e5e5e5;\\n    margin: 0;\\n    cursor: pointer;\\n  }\\n\\n  .line_btn:hover {\\n    // background: #000 (opacity: 30%);\\n    background: #06c755;\\n    // opacity: 0.2;\\n    // color: #fff;\\n    border: 1px solid #e5e5e5;\\n  }\\n\\n  .line_btn:focus {\\n    background: #06c755;\\n    // opacity: 0.3;\\n    color: #fff;\\n    border: 1px solid #e5e5e5;\\n  }\\n\"])));\n_c8 = LineDiv;\nvar GooBtn = styled(GoogleButton)(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n  width: 347px !important;\\n  border-radius: 0 !important;\\n  box-shadow: 0 2px 4px 0 rgb(0 0 0 / 10%) !important;\\n  font-family: \\\"Nunito Sans\\\", sans-serif !important;\\n  margin: 0 !important;\\n  text-align: center !important;\\n  font-size: 15px !important;\\n  line-height: 51px !important;\\n\\n  span {\\n    padding-right: 40px !important;\\n  }\\n\"])));\n_c9 = GooBtn;\nvar GoogleDiv = styled.div(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n  // \\uAD6C\\uAE00 \\uB85C\\uADF8\\uC778\\n  position: relative;\\n  display: inline-block;\\n  width: 350px;\\n\"]))); // 여기까지\n\n_c10 = GoogleDiv;\nvar CardStyle = styled(Card)(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n  width: 400px;\\n  margin: 0 auto;\\n  border-radius: 15px;\\n  box-shadow: 0 1px 2px -2px rgb(0 0 0 / 16%), 0 3px 6px 0 rgb(0 0 0 / 12%);\\n  // 0 5px 12px 4px rgb(0 0 0 / 9%);\\n\"])));\n_c11 = CardStyle;\nvar HeaderWrapper = styled(Header)(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 100%;\\n  height: 100px;\\n  background: #f0f2f5;\\n  //   opacity: 0.5;\\n  font-size: 51px;\\n  font-weight: bold;\\n  text-align: center;\\n  line-height: 100px;\\n  color: #1890ff;\\n  margin-top: 30px;\\n\"])));\n_c12 = HeaderWrapper;\nvar ContentWrapper = styled(Content)(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n  height: 60vh;\\n  background: #f0f2f5;\\n\"])));\n_c13 = ContentWrapper;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13;\n\n$RefreshReg$(_c, \"Logoutlogin\");\n$RefreshReg$(_c2, \"SignupBtn\");\n$RefreshReg$(_c3, \"QuestionDiv\");\n$RefreshReg$(_c4, \"MetaDiv\");\n$RefreshReg$(_c5, \"FormWrapper\");\n$RefreshReg$(_c6, \"FormDiv\");\n$RefreshReg$(_c7, \"BtnDiv\");\n$RefreshReg$(_c8, \"LineDiv\");\n$RefreshReg$(_c9, \"GooBtn\");\n$RefreshReg$(_c10, \"GoogleDiv\");\n$RefreshReg$(_c11, \"CardStyle\");\n$RefreshReg$(_c12, \"HeaderWrapper\");\n$RefreshReg$(_c13, \"ContentWrapper\");","map":{"version":3,"sources":["/Users/dong/CapstonProject/pages/Logoutlogin.js"],"names":["React","useState","useCallback","useEffect","Layout","Card","Form","Input","Button","Modal","Signup","styled","Link","useInput","axios","Router","useDispatch","useSelector","LOGIN_REQUEST","signIn","signOut","useSession","GoogleButton","LOADS_POSTS_REQUEST","wrapper","END","Header","Footer","Content","Meta","Logoutlogin","dispatch","state","user","me","push","type","session","data","useForm","form","isModal","setIsModal","showModal","openModal","prev","console","log","id","onChangeId","password","onChangePassword","onSubmit","body","email","result","marginBottom","height","background","signin","getLayout","page","SignupBtn","div","QuestionDiv","MetaDiv","FormWrapper","FormDiv","BtnDiv","LineDiv","GooBtn","GoogleDiv","CardStyle","HeaderWrapper","ContentWrapper"],"mappings":"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","sourcesContent":["import React, { useState, useCallback,useEffect } from \"react\";\nimport { Layout, Card, Form, Input, Button, Modal } from \"antd\";\nimport Signup from \"./SignUpTest\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport useInput from \"../hooks/useInput\";\nimport axios from \"axios\";\nimport Router from 'next/router'\nimport { useDispatch ,useSelector} from \"react-redux\";\nimport { LOGIN_REQUEST } from \"../reducers/user\";\n\nimport { signIn, signOut, useSession } from \"next-auth/react\"; // 소셜로그인\nimport GoogleButton from \"react-google-button\"; // google 버튼\nimport { LOADS_POSTS_REQUEST } from \"../reducers/post\";\nimport wrapper from '../store/configureStore';\nimport { END } from 'redux-saga';\n\nconst { Header, Footer, Content } = Layout;\nconst { Meta } = Card;\n\nconst Logoutlogin = () => {\n  const dispatch = useDispatch();\n\n  const {me} =useSelector((state)=>state.user)\n\n//   useEffect(()=>{\n//     if(me.user !=null){\n//       Router.push(\n//         '/'\n//     )\n\n//     dispatch({\n//      type:LOADS_POSTS_REQUEST\n//  })\n\n//     }\n    \n//   },[me.user])\n\n//logout했을때 아직me가 null이아니라서 다시 /로 router.push된다\nuseEffect(()=>{\n  if(me!=null){\n    Router.push(\n      '/'\n    )\n    dispatch({\n      type:LOADS_POSTS_REQUEST\n    })\n  }\n},[me])\n\n  const { data: session } = useSession(); // 소셜 로그인\n\n  const [form] = Form.useForm();\n\n  const [isModal, setIsModal] = useState(false);\n\n  const showModal = () => {\n    setIsModal(true);\n  };\n\n  const openModal = () => {\n    setIsModal((prev) => !prev);\n    console.log(isModal);\n  };\n\n  const [id, onChangeId] = useInput(\"\");\n  const [password, onChangePassword] = useInput(\"\");\n\n  const onSubmit = async() => {\n    let body = {\n      email: id,\n      password: password,\n    };\n\n    console.log(body);\n\n    const result = await dispatch({\n        type: LOGIN_REQUEST,\n        data: body,\n      });\n\n    \n\n    \n  };\n\n  return (\n    <Layout>\n      <HeaderWrapper>Runnable</HeaderWrapper>\n      <ContentWrapper>\n        <CardStyle>\n          <MetaDiv>\n            <Meta title=\"Runnable 로그인\" />\n          </MetaDiv>\n          <FormDiv>\n            <FormWrapper onFinish={onSubmit} form={form} size=\"large\">\n              <Form.Item>\n                <Input\n                  value={id}\n                  onChange={onChangeId}\n                  placeholder=\"이메일 또는 전화번호\"\n                  required\n                />\n              </Form.Item>\n              <Form.Item>\n                <Input.Password\n                  value={password}\n                  onChange={onChangePassword}\n                  placeholder=\"비밀번호\"\n                  required\n                />\n              </Form.Item>\n              {/* 코드추가 */}\n              <BtnDiv>\n                <LineDiv>\n                  <button\n                    type=\"button\"\n                    className=\"line_btn\"\n                    onClick={() => {\n                      signIn(\"line\");\n                    }}\n                  >\n                    <img src=\"btn_base.png\" />\n                    LINE으로 시작하기\n                  </button>\n                </LineDiv>\n                <GoogleDiv>\n                  <GooBtn\n                    type=\"light\"\n                    label=\"Google로 시작하기\"\n                    onClick={() => {\n                      signIn(\"google\");\n                    }}\n                  />\n                </GoogleDiv>\n                <Button type=\"default\" htmlType=\"submit\">\n                  Signin\n                </Button>\n              </BtnDiv>\n              {/*  */}\n            </FormWrapper>\n          </FormDiv>\n          <QuestionDiv>\n            <div style={{ marginBottom: \"10px\" }}>\n              <Link href=\"/findId\">\n                <a>계정을 잊으셨나요?</a>\n              </Link>\n            </div>\n            <Meta description=\"또는\" />\n          </QuestionDiv>\n          <SignupBtn>\n            <Button type=\"primary\" onClick={showModal} ghost>\n              새로운 계정 생성\n            </Button>\n            <Signup isModal={isModal} openModal={openModal} />\n          </SignupBtn>\n        </CardStyle>\n      </ContentWrapper>\n      <Footer style={{ height: \"20vh\", background: \"#fff\" }}></Footer>\n    </Layout>\n  );\n};\n\nsignin.getLayout = function getLayout(page) {\n  return <Layout>{page}</Layout>;\n};\n\n\n// export const getServerSideProps = wrapper.getServerSideProps(async (context) => {\n//   const cookie = context.req ? context.req.headers.cookie : '';\n//   axios.defaults.headers.Cookie = '';\n//   if (context.req && cookie) {\n//     axios.defaults.headers.Cookie = cookie;\n//   }\n\n//   // context.store.dispatch({\n//   //     type:LOAD_POSTS_REQUEST\n//   // })\n\n//     context.store.dispatch(END);\n//     await context.store.sagaTask.toPromise();\n// })\n\n\n\nexport default Logoutlogin;\n\n// FormDiv 밑에 추가코드있음\n\nconst SignupBtn = styled.div`\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  margin-top: 10px;\n\n  & Button {\n    height: 40px;\n    border-radius: 7px;\n  }\n`;\n\nconst QuestionDiv = styled.div`\n  display: inline-block;\n  width: 100%;\n  height: 40px;\n  text-align: center;\n  margin-top:10px;\n\n  & div {\n    \n  }\n\n  & a {\n    font-size: 16px;\n  }\n\n  .ant-card-meta-description::before {\n    context:'';\n    background:color: rgba(0, 0, 0, 0.45);\n  }\n`;\n\nconst MetaDiv = styled.div`\n  display: inline-block;\n  width: 100%;\n  height: 40px;\n  text-align: center;\n\n  .ant-card-meta-title {\n    font-size: 18px;\n  }\n`;\n\nconst FormWrapper = styled(Form)`\n  .ant-form-item {\n    margin-bottom: 12px;\n  }\n\n  .ant-input {\n    height: 54px;\n    border-radius: 7px;\n  }\n\n  .ant-input-affix-wrapper {\n    height: 54px;\n    border-radius: 7px;\n  }\n\n  .ant-input-affix-wrapper > .ant-input {\n    height: 41px;\n  }\n\n  .ant-card-meta {\n    display: inline-block;\n    width: 100%;\n    height: 40px;\n    text-align: center;\n  }\n`;\n\nconst FormDiv = styled.div`\n  Button {\n    width: 100%;\n    background: #32a89b;\n    background: #1890ff;\n    color: #fff;\n    height: 48px;\n    margin-top: 5px;\n    font-weight: bold;\n    border-radius: 7px;\n  }\n\n  Button:hover {\n    background: #1683e8;\n    border-color: #1683e8;\n    color: #fff;\n  }\n\n  Button:focus {\n    background: #1683e8;\n    color: #fff;\n  }\n`;\n\n// 코드추가\nconst BtnDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst LineDiv = styled.div`\n  // 라인 로그인\n  // align-items: center;\n  position: relative;\n\n  img {\n    position: absolute;\n    left: 5px;\n    color: #fff;\n  }\n\n  .line_btn {\n    width: 100%;\n    height: 50px;\n    line-height: 40px;\n    background: #06c755;\n    color: #fff;\n    border: 1px solid #e5e5e5;\n    margin: 0;\n    cursor: pointer;\n  }\n\n  .line_btn:hover {\n    // background: #000 (opacity: 30%);\n    background: #06c755;\n    // opacity: 0.2;\n    // color: #fff;\n    border: 1px solid #e5e5e5;\n  }\n\n  .line_btn:focus {\n    background: #06c755;\n    // opacity: 0.3;\n    color: #fff;\n    border: 1px solid #e5e5e5;\n  }\n`;\n\nconst GooBtn = styled(GoogleButton)`\n  width: 347px !important;\n  border-radius: 0 !important;\n  box-shadow: 0 2px 4px 0 rgb(0 0 0 / 10%) !important;\n  font-family: \"Nunito Sans\", sans-serif !important;\n  margin: 0 !important;\n  text-align: center !important;\n  font-size: 15px !important;\n  line-height: 51px !important;\n\n  span {\n    padding-right: 40px !important;\n  }\n`;\n\nconst GoogleDiv = styled.div`\n  // 구글 로그인\n  position: relative;\n  display: inline-block;\n  width: 350px;\n`;\n// 여기까지\n\nconst CardStyle = styled(Card)`\n  width: 400px;\n  margin: 0 auto;\n  border-radius: 15px;\n  box-shadow: 0 1px 2px -2px rgb(0 0 0 / 16%), 0 3px 6px 0 rgb(0 0 0 / 12%);\n  // 0 5px 12px 4px rgb(0 0 0 / 9%);\n`;\n\nconst HeaderWrapper = styled(Header)`\n  display: inline-block;\n  width: 100%;\n  height: 100px;\n  background: #f0f2f5;\n  //   opacity: 0.5;\n  font-size: 51px;\n  font-weight: bold;\n  text-align: center;\n  line-height: 100px;\n  color: #1890ff;\n  margin-top: 30px;\n`;\n\nconst ContentWrapper = styled(Content)`\n  height: 60vh;\n  background: #f0f2f5;\n`;"]},"metadata":{},"sourceType":"module"}