{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/dong/CapstonProject/pages/polylineTest.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { GoogleMap, LoadScript } from '@react-google-maps/api';\nimport { Polyline, Marker, StreetViewPanorama, MarkerClusterer } from '@react-google-maps/api';\nimport AppLayout from '../component/AppLayout'; // import Streetview from 'react-google-streetview';// import RecordElevation from '../component/RecordElavation'\n\nimport { SEARCH_MAP_REQUEST } from '../reducers/map';\nimport { LOAD_MAP_REQUEST } from '../reducers/map';\nimport GeomHandle from '../component/GoogleMap';\nimport { Input, Col, Row, Button } from 'antd';\nimport SideBar from '../component/Layout/SideBar';\nimport { InfoWindow } from '@react-google-maps/api';\nimport Router from 'next/router'; // import {useHistory} from \n\nimport Link from 'next/link';\nimport selectMap from '../component/map/selectMap'; // import InfoWindow from '../component/InfoWindow';\n\nvar iconPin = {\n  path: 'https://png.pngtree.com/png-clipart/20190921/original/pngtree-label-free-png-picture-png-image_4700172.jpg',\n  scale: 1\n};\nvar mapContainerStyle = {\n  height: \"400px\",\n  width: \"800px\"\n};\n\nvar call = function call() {\n  console.log('cccccc');\n};\n\nvar center = {\n  lat: 35.969997373905,\n  lng: 128.45170755523503\n};\nvar path = [[{\n  lat: 35.969997373905,\n  lng: 128.45170755523503\n}, {\n  lat: 35.985501427015464,\n  lng: 128.40407191943035\n}, {\n  lat: 35.89580489690752,\n  lng: 128.62238368221892\n}], [{\n  lat: 35.24651100148735,\n  lng: 128.87070362130143\n}, {\n  lat: 35.24752656439432,\n  lng: 128.8729993854958\n}, {\n  lat: 35.248984786322424,\n  lng: 128.87318007064073\n}, {\n  lat: 35.25018259185734,\n  lng: 128.87332887017186\n}, {\n  lat: 35.25065129355367,\n  lng: 128.87505069331763\n}, {\n  lat: 35.25145581526787,\n  lng: 128.87358573620605\n}]];\nvar markerPosition = [{\n  lat: 35.89580489690752,\n  lng: 128.62238368221892\n}, {\n  lat: 35.25145581526787,\n  lng: 128.87358573620605\n}];\n\nfunction createKey(location) {\n  return location.lat + location.lng;\n}\n\nvar optionss = {\n  imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m' // so you must have m1.png, m2.png, m3.png, m4.png, m5.png and m6.png in that folder\n\n};\n\nfunction polylineTest() {\n  _s();\n\n  //////\n  var _useSelector = useSelector(function (state) {\n    return state.map;\n  }),\n      searchMap = _useSelector.searchMap;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(),\n      propsPosition = _useState[0],\n      setPropsPosition = _useState[1]; //InfoWindow\n\n\n  var _useState2 = useState(false),\n      target = _useState2[0],\n      setTarget = _useState2[1];\n\n  var divStyle = {\n    background: \"white\",\n    border: \"1px solid #ccc\",\n    padding: 15\n  };\n\n  var _useState3 = useState({\n    lat: '',\n    lng: ''\n  }),\n      infoPosition = _useState3[0],\n      setInfoPosition = _useState3[1];\n\n  var _useState4 = useState(),\n      propsId = _useState4[0],\n      setPropsId = _useState4[1];\n\n  var closeClick = function closeClick() {\n    setTarget(false);\n  };\n\n  var i = 1;\n\n  var oneRoute = function oneRoute() {\n    dispatch({\n      type: LOAD_MAP_REQUEST,\n      data: propsId\n    });\n    Router.push({\n      pathname: '/Route/[id]',\n      query: {\n        id: propsId\n      }\n    });\n    console.log('dong', searchMap);\n  }; //InfoWindow\n  //polyline\n\n\n  var _useState5 = useState(Array.from({\n    length: searchMap.length\n  }, function () {\n    return 5;\n  })),\n      strokeWeight = _useState5[0],\n      setStrokeWeight = _useState5[1];\n\n  var strokeWeights = Array.from({\n    length: searchMap.length\n  }, function () {\n    return 5;\n  });\n\n  var onLoad = function onLoad(polyline) {\n    console.log('polyline: ', polyline);\n  };\n\n  function mouseOut(index) {\n    strokeWeights[index] = 5;\n    setStrokeWeight(strokeWeights); // setStrokeWeight(5)\n\n    console.log('aaa');\n  }\n\n  function mouseOver(index) {\n    console.log('ssss', strokeWeight);\n    strokeWeights[index] = 10;\n    setStrokeWeight(strokeWeights);\n    console.log('over');\n  }\n\n  var polylineClick = function polylineClick(positionData) {\n    console.log('click');\n    console.log('cc', searchMap);\n    setInfoPosition({\n      lat: positionData.gps.coordinates[3][1],\n      lng: positionData.gps.coordinates[3][0]\n    });\n    setPropsId(positionData.id);\n    setPropsPosition(positionData);\n    setTarget(true);\n    console.log('ppp', positionData);\n  };\n\n  var options = {\n    strokeColor: '#FF0000',\n    strokeOpacity: 0.8,\n    // strokeWeight: strokeWeight,\n    fillColor: '#FF0000',\n    fillOpacity: 0.35,\n    clickable: true,\n    draggable: false,\n    editable: false,\n    visible: true,\n    radius: 30000,\n    //-27부터 호주 시작해서 점찍고 점찍고 한다\n    paths: [[{\n      lat: 35.969997373905,\n      lng: 128.45170755523503\n    }, {\n      lat: 35.985501427015464,\n      lng: 128.40407191943035\n    }, {\n      lat: 35.89580489690752,\n      lng: 128.62238368221892\n    }], [{\n      lat: 35.24731788471166,\n      lng: 128.86906207420088\n    }, {\n      lat: 35.260354548127424,\n      lng: 128.81198466603703\n    }]],\n    zIndex: 1\n  }; //polyline\n\n  var _useState6 = useState(),\n      elev = _useState6[0],\n      setElev = _useState6[1];\n\n  var _useState7 = useState(null),\n      mapref = _useState7[0],\n      setMapRef = _useState7[1];\n\n  var handleOnLoad = function handleOnLoad(map) {\n    setMapRef(map);\n    var elevator = new google.maps.ElevationService();\n    setElev(elevator);\n    console.log(elevator);\n    console.log('onLoad');\n  };\n\n  var handleCenterChanged = function handleCenterChanged() {\n    if (mapref) {\n      // ElevationService()\n      var zoom = mapref.getZoom(); // const ele=mapref.getElevationService();\n\n      var lat = mapref.getCenter().lat();\n      var lng = mapref.getCenter().lng();\n      var ne = mapref.getBounds().getNorthEast(); // const nw=mapref.getBounds().getNorthWest();\n\n      var sw = mapref.getBounds().getSouthWest(); // const se=mapref.getBounds().getSouthEast();\n      // displayLocationElevation(lat, elevator, infowindow);\n\n      console.log('zoom', zoom);\n      console.log('north', ne.lat(), ',', ne.lng());\n      console.log('south', sw.lat(), ',', sw.lng());\n    } //   dispatch({\n    //     type:MOVING_MAP_REQUEST,\n    //     data:{\n    //       north:{\n    //         lat:ne.lat(),\n    //         lng:ne.lng()\n    //       },\n    //       south:{\n    //         lat:sw.lat(),\n    //         lng:ne.lat()\n    //       },\n    //     }\n    //   })\n\n  };\n\n  var myLatLng = {\n    lat: -25.363,\n    lng: 131.044\n  }; // const map = new google.maps.Map(document.getElementById(\"map\"), {\n  //   zoom: 4,\n  //   center: myLatLng,\n  // });\n\n  var _useState8 = useState({\n    lat: 35.969997373905,\n    lng: 128.45170755523503\n  }),\n      geom = _useState8[0],\n      setGeom = _useState8[1];\n\n  var handleButton = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var currentAddr, _yield$GeomHandle, lat, lng;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              currentAddr = document.getElementById('address').value;\n\n              if (!currentAddr) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 4;\n              return GeomHandle(currentAddr);\n\n            case 4:\n              _yield$GeomHandle = _context.sent;\n              lat = _yield$GeomHandle.lat;\n              lng = _yield$GeomHandle.lng;\n              setGeom({\n                lat: lat,\n                lng: lng\n              });\n              dispatch({\n                type: SEARCH_MAP_REQUEST,\n                data: '1'\n              });\n              console.log('aaa', searchMap);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleButton() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useState9 = useState(false),\n      mapState = _useState9[0],\n      setMapState = _useState9[1];\n\n  var selectMap = function selectMap() {\n    setMapstate(!mapState);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }\n  }, __jsx(Col, {\n    span: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 13\n    }\n  }, __jsx(SideBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 17\n    }\n  })), __jsx(Col, {\n    span: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 17\n    }\n  }, \"\\uAC80\\uC0C9\\uD558\\uAE30\", __jsx(Input.Search, {\n    id: \"address\",\n    style: {\n      verticalAlign: 'middle',\n      marginLeft: '10px',\n      width: '500px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 9\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 105\n    }\n  }), __jsx(Button, {\n    onClick: handleButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }\n  }, \"\\uD074\\uB9AD\"), __jsx(Button, {\n    onclick: selectMap,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }\n  }, \"\\uC790\\uC804\\uAC70\"), __jsx(Button, {\n    onclick: selectMap,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }\n  }, \"\\uB2EC\\uB9AC\\uAE30\"), __jsx(\"selectMap\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 8\n    }\n  }))));\n}\n\n_s(polylineTest, \"dC6Lg1WT61iIqb8lE4LzU49vl/A=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\nexport default /*#__PURE__*/React.memo(polylineTest);","map":{"version":3,"sources":["/Users/dong/CapstonProject/pages/polylineTest.js"],"names":["React","useState","useEffect","useDispatch","useSelector","GoogleMap","LoadScript","Polyline","Marker","StreetViewPanorama","MarkerClusterer","AppLayout","SEARCH_MAP_REQUEST","LOAD_MAP_REQUEST","GeomHandle","Input","Col","Row","Button","SideBar","InfoWindow","Router","Link","selectMap","iconPin","path","scale","mapContainerStyle","height","width","call","console","log","center","lat","lng","markerPosition","createKey","location","optionss","imagePath","polylineTest","state","map","searchMap","dispatch","propsPosition","setPropsPosition","target","setTarget","divStyle","background","border","padding","infoPosition","setInfoPosition","propsId","setPropsId","closeClick","i","oneRoute","type","data","push","pathname","query","id","Array","from","length","strokeWeight","setStrokeWeight","strokeWeights","onLoad","polyline","mouseOut","index","mouseOver","polylineClick","positionData","gps","coordinates","options","strokeColor","strokeOpacity","fillColor","fillOpacity","clickable","draggable","editable","visible","radius","paths","zIndex","elev","setElev","mapref","setMapRef","handleOnLoad","elevator","google","maps","ElevationService","handleCenterChanged","zoom","getZoom","getCenter","ne","getBounds","getNorthEast","sw","getSouthWest","myLatLng","geom","setGeom","handleButton","currentAddr","document","getElementById","value","mapState","setMapState","setMapstate","verticalAlign","marginLeft","memo"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { GoogleMap, LoadScript } from '@react-google-maps/api';\nimport { Polyline ,Marker,StreetViewPanorama,MarkerClusterer} from '@react-google-maps/api';\nimport AppLayout from '../component/AppLayout';\n// import Streetview from 'react-google-streetview';// import RecordElevation from '../component/RecordElavation'\nimport { SEARCH_MAP_REQUEST } from '../reducers/map';\nimport {LOAD_MAP_REQUEST} from '../reducers/map'\nimport GeomHandle from '../component/GoogleMap'\nimport { Input,Col,Row,Button } from 'antd';\nimport SideBar from '../component/Layout/SideBar';\nimport { InfoWindow } from '@react-google-maps/api';\nimport Router from 'next/router'\n// import {useHistory} from \nimport Link from 'next/link'\nimport selectMap from '../component/map/selectMap'\n// import InfoWindow from '../component/InfoWindow';\n\n\n\nconst iconPin={\n    path:'https://png.pngtree.com/png-clipart/20190921/original/pngtree-label-free-png-picture-png-image_4700172.jpg',\n    scale:1\n}\n\n\n\nconst mapContainerStyle = {\n  height: \"400px\",\n  width: \"800px\"\n};\n\nconst call=()=>{\n    console.log('cccccc')\n}\n\nconst center = {lat:  35.969997373905, lng: 128.45170755523503};\n\n\n\n\n\nconst path = [\n[\n    {lat:  35.969997373905, lng: 128.45170755523503},\n    {lat:35.985501427015464, lng:128.40407191943035},\n\n    {lat: 35.89580489690752, lng: 128.62238368221892}\n    \n]\n,\n[\n    {lat:  35.24651100148735,   lng: 128.87070362130143},\n   \n    {lat: 35.24752656439432,   lng:128.8729993854958},\n    {lat:35.248984786322424, lng:128.87318007064073},\n    {lat:35.25018259185734, lng:128.87332887017186},\n    {lat:35.25065129355367, lng:128.87505069331763},\n    {\n        lat:35.25145581526787, lng:128.87358573620605\n    }\n\n    \n]\n\n\n   \n    \n];\n\nconst markerPosition=[\n    {lat: 35.89580489690752, lng: 128.62238368221892},{\n        lat:35.25145581526787, lng:128.87358573620605\n    }\n]\n\n\nfunction createKey(location) {\n    return location.lat + location.lng\n  }\n\n\nconst optionss = {\n    imagePath:\n      'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m', // so you must have m1.png, m2.png, m3.png, m4.png, m5.png and m6.png in that folder\n  }\n\n\nfunction polylineTest() {\n\n    //////\n\n    const {searchMap}=useSelector((state)=>state.map)\n\n    const dispatch=useDispatch()\n\n    const [propsPosition,setPropsPosition]=useState()\n\n\n//InfoWindow\nconst [target,setTarget]=useState(false)\n\nconst divStyle = {\n    background: `white`,\n    border: `1px solid #ccc`,\n    padding: 15\n  }\n\nconst [infoPosition,setInfoPosition]=useState({\n    lat:'',\n    lng:'',\n})\n\nconst [propsId,setPropsId]=useState()\n\nconst closeClick=()=>{\n    setTarget(false)\n}\nconst i=1\n\nconst oneRoute=()=>{\n    dispatch({\n               type:LOAD_MAP_REQUEST,\n               data:propsId\n             })\n    Router.push({\n        pathname: '/Route/[id]',\n        query: {id:propsId},\n      });\n\n      console.log('dong',searchMap)\n}\n\n\n//InfoWindow\n\n    //polyline\n\nconst [strokeWeight,setStrokeWeight]=useState(Array.from({length: searchMap.length}, () => 5))\nconst strokeWeights= Array.from({length: searchMap.length}, () => 5);\n\nconst onLoad = polyline => {\n    console.log('polyline: ', polyline)\n   \n  };\n\n\n\nfunction mouseOut(index){\n    strokeWeights[index]=5\n    setStrokeWeight(strokeWeights)\n    // setStrokeWeight(5)\n    console.log('aaa')\n\n}\n\nfunction mouseOver(index){\n    console.log('ssss',strokeWeight)\n    strokeWeights[index]=10\n    setStrokeWeight(strokeWeights)\n    console.log('over')\n}\n\n\n\n\nconst polylineClick=(positionData)=>{\n    console.log('click')\n    console.log('cc',searchMap)\n\n    setInfoPosition({\n        lat:positionData.gps.coordinates[3][1],\n        lng:positionData.gps.coordinates[3][0]\n    })\n    setPropsId(positionData.id)\n    setPropsPosition(positionData)\n    setTarget(true)\n    console.log('ppp',positionData)\n    \n}\n\nconst options = {\n    strokeColor: '#FF0000',\n    strokeOpacity: 0.8,\n    // strokeWeight: strokeWeight,\n    fillColor: '#FF0000',\n    fillOpacity: 0.35,\n    clickable: true,\n    draggable: false,\n    editable: false,\n    visible: true,\n    radius: 30000,\n    //-27부터 호주 시작해서 점찍고 점찍고 한다\n    paths: [\n      \n          [\n              {lat:  35.969997373905, lng: 128.45170755523503},\n              {lat:35.985501427015464, lng:128.40407191943035},\n          \n              {lat: 35.89580489690752, lng: 128.62238368221892}\n              \n          ]\n          ,\n          [\n              {lat:  35.24731788471166,  lng: 128.86906207420088},\n             \n              {lat: 35.260354548127424,  lng:128.81198466603703}\n              \n          ]\n        \n    \n      \n    ],\n    zIndex: 1\n  };\n\n\n\n//polyline\n\n\n\n\n    const [elev,setElev]=useState()\n    const [mapref, setMapRef] = useState(null);\n    const handleOnLoad = map => {\n      setMapRef(map);\n      const elevator = new google.maps.ElevationService();\n      setElev(elevator)\n      console.log(elevator)\n      console.log('onLoad')\n    };\n    const handleCenterChanged = () => {\n      if (mapref) {\n        // ElevationService()\n        const zoom=mapref.getZoom()\n        \n        // const ele=mapref.getElevationService();\n        const lat = mapref.getCenter().lat();\n        const lng = mapref.getCenter().lng();\n        const ne=mapref.getBounds().getNorthEast();\n        // const nw=mapref.getBounds().getNorthWest();\n        const sw=mapref.getBounds().getSouthWest();\n        // const se=mapref.getBounds().getSouthEast();\n     \n        // displayLocationElevation(lat, elevator, infowindow);\n        console.log('zoom',zoom);\n        console.log('north', ne.lat(),',',ne.lng())\n        console.log('south',sw.lat(),',',sw.lng())\n \n\n    \n      }\n    //   dispatch({\n    //     type:MOVING_MAP_REQUEST,\n    //     data:{\n    //       north:{\n    //         lat:ne.lat(),\n    //         lng:ne.lng()\n    //       },\n    //       south:{\n    //         lat:sw.lat(),\n    //         lng:ne.lat()\n    //       },\n\n    //     }\n    //   })\n    \n    }\n\n  \n\n\n    const myLatLng = { lat: -25.363, lng: 131.044 };\n    // const map = new google.maps.Map(document.getElementById(\"map\"), {\n    //   zoom: 4,\n    //   center: myLatLng,\n    // });\n    const [geom ,setGeom]=useState({lat:35.969997373905, lng: 128.45170755523503})\n\n    const handleButton = async() => {\n        const currentAddr = document.getElementById('address').value\n        if (currentAddr){\n          const {lat, lng} = await GeomHandle(currentAddr)\n          setGeom({lat:lat,lng:lng})\n\n          dispatch({\n            type:SEARCH_MAP_REQUEST,\n            data:'1'\n        })\n        console.log('aaa',searchMap)\n\n\n\n       \n        }\n      }\n\n      const [mapState,setMapState]=useState(false)\n\n      const selectMap=()=>{\n        setMapstate(!mapState)\n      }\n\n      \n  \n    return (\n        <div>\n            <Row>\n            <Col span={4}>\n                <SideBar ></SideBar>\n\n                </Col>\n                <Col span={12}>\n                검색하기\n        <Input.Search id=\"address\"  style={{verticalAlign:'middle' ,marginLeft:'10px',width:'500px'}} /><br></br>\n        <Button onClick={handleButton}>클릭</Button>\n        <Button onclick={selectMap}>자전거</Button>\n        <Button onclick={selectMap}>달리기</Button>\n              \n\n       <selectMap></selectMap>\n\n                </Col>\n\n\n            </Row>\n           \n       \n         </div>\n\n    )\n  }\n  \n  export default React.memo(polylineTest)"]},"metadata":{},"sourceType":"module"}