{"ast":null,"code":"var _jsxFileName = \"/Users/dong/CapstonProject/pages/LoginTest.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport { Layout, Card, Form, Input, Button, Modal } from \"antd\";\nimport Signup from \"./SignUpTest\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport useInput from \"../hooks/useInput\";\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LOGIN_REQUEST } from \"../reducers/user\";\nimport Router from 'next/router';\nimport wrapper from \"../store/configureStore\";\nimport { END } from 'redux-saga';\nimport { LOAD_MY_INFO_REQUEST } from '../reducers/user';\nconst {\n  Header,\n  Footer,\n  Content\n} = Layout;\nconst {\n  Meta\n} = Card;\n\nconst signin = () => {\n  const {\n    me\n  } = useSelector(state => state.user); // useEffect(()=>{\n  //     if(me.user){\n  //         console.log('dongss')\n  //        Router.push(\n  //            '/'\n  //        )\n  //     }\n  // },[me.user])\n\n  const dispatch = useDispatch();\n  const [form] = Form.useForm();\n  const {\n    0: isModal,\n    1: setIsModal\n  } = useState(false);\n\n  const showModal = () => {\n    setIsModal(true);\n  };\n\n  const openModal = () => {\n    setIsModal(prev => !prev);\n    console.log(isModal);\n  };\n\n  const [id, onChangeId] = useInput(\"\");\n  const [password, onChangePassword] = useInput(\"\");\n\n  const onSubmit = async () => {\n    let body = {\n      email: id,\n      password: password\n    };\n    console.log(body);\n    dispatch({\n      type: LOGIN_REQUEST,\n      data: body\n    }); // const response = await fetch(\"https://2yubi.shop/api/login\", {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\",\n    //       Accept: \"application/json\",\n    //     },\n    //     credentials: \"include\",\n    //     body: JSON.stringify({\n    //       email:id,\n    //       password:password,\n    //     }),\n    //   });\n    //   const content = await response.json();\n    //   console.log(content);\n  };\n\n  const server = () => {\n    axios.post(`https://2yubi.shop/api/logout`).then(res => {\n      console.log('donggg', res);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, __jsx(Button, {\n    onClick: server,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"\\uB85C\\uADF8\\uC544\\uC6C3\"), __jsx(HeaderWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, \"Runnable\"), __jsx(ContentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, __jsx(CardStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, __jsx(MetaDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, __jsx(Meta, {\n    title: \"Runnable \\uB85C\\uADF8\\uC778\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  })), __jsx(FormDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, __jsx(FormWrapper, {\n    onFinish: onSubmit,\n    form: form,\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, __jsx(Input, {\n    value: id,\n    onChange: onChangeId,\n    placeholder: \"\\uC774\\uBA54\\uC77C \\uB610\\uB294 \\uC804\\uD654\\uBC88\\uD638\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  })), __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, __jsx(Input.Password, {\n    value: password,\n    onChange: onChangePassword,\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  })), __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    type: \"default\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \"Signin\")))), __jsx(QuestionDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    style: {\n      marginBottom: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    href: \"/findId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, \"\\uACC4\\uC815\\uC744 \\uC78A\\uC73C\\uC168\\uB098\\uC694?\"))), __jsx(Meta, {\n    description: \"\\uB610\\uB294\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  })), __jsx(SignupBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    type: \"primary\",\n    onClick: showModal,\n    ghost: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, \"\\uC0C8\\uB85C\\uC6B4 \\uACC4\\uC815 \\uC0DD\\uC131\"), __jsx(Signup, {\n    isModal: isModal,\n    openModal: openModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  })))), __jsx(Footer, {\n    style: {\n      height: \"20vh\",\n      background: \"#fff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }));\n};\n\nsignin.getLayout = function getLayout(page) {\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 10\n    }\n  }, page);\n};\n\nexport const getServerSideProps = wrapper.getServerSideProps(async context => {\n  // const cookie = context.req ? context.req.headers.cookie : '';\n  // axios.defaults.headers.Cookie = '';\n  // console.log('cookiqq',context.req.headers )\n  // console.log('enddddddddd')\n  // if (context.req && cookie) {\n  //   axios.defaults.headers.Cookie = cookie;\n  // }\n  const {\n    ctx\n  } = context;\n  console.log('contexa', context.cokkies);\n  console.log('resetssssqqqq'); // context.store.dispatch({\n  //     type:LOAD_POSTS_REQUEST\n  // })\n  // context.store.dispatch(END)\n  // await context.store.sagaTask.toPromise()\n});\nexport default signin;\nconst SignupBtn = styled.div`\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  margin-top: 10px;\n\n  & Button {\n    height: 40px;\n    border-radius: 7px;\n  }\n`;\nconst QuestionDiv = styled.div`\n  display: inline-block;\n  width: 100%;\n  height: 40px;\n  text-align: center;\n  margin-top:10px;\n\n  & div {\n    \n  }\n\n  & a {\n    font-size: 16px;\n  }\n\n  .ant-card-meta-description::before {\n    context:'';\n    background:color: rgba(0, 0, 0, 0.45);\n  }\n`;\nconst MetaDiv = styled.div`\n  display: inline-block;\n  width: 100%;\n  height: 40px;\n  text-align: center;\n\n  .ant-card-meta-title {\n    font-size: 18px;\n  }\n`;\nconst FormWrapper = styled(Form)`\n  .ant-form-item {\n    margin-bottom: 12px;\n  }\n\n  .ant-input {\n    height: 54px;\n    border-radius: 7px;\n  }\n\n  .ant-input-affix-wrapper {\n    height: 54px;\n    border-radius: 7px;\n  }\n\n  .ant-input-affix-wrapper > .ant-input {\n    height: 41px;\n  }\n\n  .ant-card-meta {\n    display: inline-block;\n    width: 100%;\n    height: 40px;\n    text-align: center;\n  }\n`;\nconst FormDiv = styled.div`\n  Button {\n    width: 100%;\n    background: #32a89b;\n    background: #1890ff;\n    color: #fff;\n    height: 48px;\n    margin-top: 5px;\n    font-weight: bold;\n    border-radius: 7px;\n  }\n\n  Button:hover {\n    background: #1683e8;\n    border-color: #1683e8;\n    color: #fff;\n  }\n\n  Button:focus {\n    background: #1683e8;\n    color: #fff;\n  }\n`;\nconst CardStyle = styled(Card)`\n  width: 400px;\n  margin: 0 auto;\n  border-radius: 15px;\n  box-shadow: 0 1px 2px -2px rgb(0 0 0 / 16%), 0 3px 6px 0 rgb(0 0 0 / 12%);\n  // 0 5px 12px 4px rgb(0 0 0 / 9%);\n`;\nconst HeaderWrapper = styled(Header)`\n  display: inline-block;\n  width: 100%;\n  height: 100px;\n  background: #f0f2f5;\n  //   opacity: 0.5;\n  font-size: 51px;\n  font-weight: bold;\n  text-align: center;\n  line-height: 100px;\n  color: #1890ff;\n  margin-top: 30px;\n`;\nconst ContentWrapper = styled(Content)`\n  height: 60vh;\n  background: #f0f2f5;\n`;","map":{"version":3,"sources":["/Users/dong/CapstonProject/pages/LoginTest.js"],"names":["React","useState","useCallback","useEffect","Layout","Card","Form","Input","Button","Modal","Signup","styled","Link","useInput","axios","useDispatch","useSelector","LOGIN_REQUEST","Router","wrapper","END","LOAD_MY_INFO_REQUEST","Header","Footer","Content","Meta","signin","me","state","user","dispatch","form","useForm","isModal","setIsModal","showModal","openModal","prev","console","log","id","onChangeId","password","onChangePassword","onSubmit","body","email","type","data","server","post","then","res","catch","err","marginBottom","height","background","getLayout","page","getServerSideProps","context","ctx","cokkies","SignupBtn","div","QuestionDiv","MetaDiv","FormWrapper","FormDiv","CardStyle","HeaderWrapper","ContentWrapper"],"mappings":"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","sourcesContent":["import React, { useState, useCallback,useEffect } from \"react\";\nimport { Layout, Card, Form, Input, Button, Modal } from \"antd\";\nimport Signup from \"./SignUpTest\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport useInput from \"../hooks/useInput\";\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LOGIN_REQUEST } from \"../reducers/user\";\nimport Router from 'next/router'\nimport wrapper from \"../store/configureStore\";\nimport { END } from 'redux-saga';\nimport {LOAD_MY_INFO_REQUEST} from '../reducers/user'\n\nconst { Header, Footer, Content } = Layout;\nconst { Meta } = Card;\n\nconst signin = () => {\n    \n\n\n    const {me} =useSelector((state)=>state.user)\n\n    // useEffect(()=>{\n    //     if(me.user){\n    //         console.log('dongss')\n    //        Router.push(\n    //            '/'\n    //        )\n    //     }\n    // },[me.user])\n\n    const dispatch=useDispatch()\n  const [form] = Form.useForm();\n\n  const [isModal, setIsModal] = useState(false);\n\n  const showModal = () => {\n    setIsModal(true);\n  };\n\n  const openModal = () => {\n    setIsModal((prev) => !prev);\n    console.log(isModal);\n  };\n\n  const [id, onChangeId] = useInput(\"\");\n  const [password, onChangePassword] = useInput(\"\");\n\n  const onSubmit = async() => {\n    let body = {\n      email: id,\n    password: password,\n    };\n\n    console.log(body);\n\n    dispatch({\n        type:LOGIN_REQUEST,\n        data:body\n    })\n\n  \n\n    // const response = await fetch(\"https://2yubi.shop/api/login\", {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\",\n    //       Accept: \"application/json\",\n    //     },\n    //     credentials: \"include\",\n    //     body: JSON.stringify({\n    //       email:id,\n    //       password:password,\n    //     }),\n    //   });\n    //   const content = await response.json();\n    //   console.log(content);\n  \n\n    \n  };\n  const server=()=>{\n    axios.post(`https://2yubi.shop/api/logout`)\n    .then((res)=>{\n      console.log('donggg',res)\n    })\n    .catch((err)=>{\n      console.log(err)\n    })\n  }\n\n  return (\n    <Layout>\n        <Button onClick={server}>로그아웃</Button>\n        \n      <HeaderWrapper>Runnable</HeaderWrapper>\n      <ContentWrapper>\n        <CardStyle>\n          <MetaDiv>\n            <Meta title=\"Runnable 로그인\" />\n          </MetaDiv>\n          <FormDiv>\n            <FormWrapper\n              onFinish={onSubmit}\n              form={form}\n              size=\"large\"\n            >\n              <Form.Item>\n              \n                <Input\n                  value={id}\n                  onChange={onChangeId}\n                  placeholder=\"이메일 또는 전화번호\"\n                  required\n                />\n              </Form.Item>\n              <Form.Item>\n                <Input.Password\n                  value={password}\n                  onChange={onChangePassword}\n                  placeholder=\"비밀번호\"\n                  required\n                />\n              </Form.Item>\n              <Form.Item>\n                <Button type=\"default\" htmlType=\"submit\">\n                  Signin\n                </Button>\n              </Form.Item>\n            </FormWrapper>\n          </FormDiv>\n          <QuestionDiv>\n            <div style={{ marginBottom: \"10px\" }}>\n              <Link href=\"/findId\">\n                <a>계정을 잊으셨나요?</a>\n              </Link>\n            </div>\n            <Meta description=\"또는\" />\n          </QuestionDiv>\n          <SignupBtn>\n            <Button type=\"primary\" onClick={showModal} ghost>\n              새로운 계정 생성\n            </Button>\n            <Signup isModal={isModal} openModal={openModal} />\n          </SignupBtn>\n        </CardStyle>\n      </ContentWrapper>\n      <Footer style={{ height: \"20vh\", background: \"#fff\" }}></Footer>\n    </Layout>\n  );\n};\n\nsignin.getLayout = function getLayout(page) {\n  return <Layout>{page}</Layout>;\n};\n\n\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\n    \n    // const cookie = context.req ? context.req.headers.cookie : '';\n    // axios.defaults.headers.Cookie = '';\n    // console.log('cookiqq',context.req.headers )\n    // console.log('enddddddddd')\n    // if (context.req && cookie) {\n    //   axios.defaults.headers.Cookie = cookie;\n    // }\n    const{ctx}=context\n    console.log('contexa',context.cokkies)\n    console.log('resetssssqqqq')\n    \n    // context.store.dispatch({\n    //     type:LOAD_POSTS_REQUEST\n    // })\n    // context.store.dispatch(END)\n    // await context.store.sagaTask.toPromise()\n  })\n  \n\n\nexport default signin;\n\nconst SignupBtn = styled.div`\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  margin-top: 10px;\n\n  & Button {\n    height: 40px;\n    border-radius: 7px;\n  }\n`;\n\nconst QuestionDiv = styled.div`\n  display: inline-block;\n  width: 100%;\n  height: 40px;\n  text-align: center;\n  margin-top:10px;\n\n  & div {\n    \n  }\n\n  & a {\n    font-size: 16px;\n  }\n\n  .ant-card-meta-description::before {\n    context:'';\n    background:color: rgba(0, 0, 0, 0.45);\n  }\n`;\n\nconst MetaDiv = styled.div`\n  display: inline-block;\n  width: 100%;\n  height: 40px;\n  text-align: center;\n\n  .ant-card-meta-title {\n    font-size: 18px;\n  }\n`;\n\nconst FormWrapper = styled(Form)`\n  .ant-form-item {\n    margin-bottom: 12px;\n  }\n\n  .ant-input {\n    height: 54px;\n    border-radius: 7px;\n  }\n\n  .ant-input-affix-wrapper {\n    height: 54px;\n    border-radius: 7px;\n  }\n\n  .ant-input-affix-wrapper > .ant-input {\n    height: 41px;\n  }\n\n  .ant-card-meta {\n    display: inline-block;\n    width: 100%;\n    height: 40px;\n    text-align: center;\n  }\n`;\n\nconst FormDiv = styled.div`\n  Button {\n    width: 100%;\n    background: #32a89b;\n    background: #1890ff;\n    color: #fff;\n    height: 48px;\n    margin-top: 5px;\n    font-weight: bold;\n    border-radius: 7px;\n  }\n\n  Button:hover {\n    background: #1683e8;\n    border-color: #1683e8;\n    color: #fff;\n  }\n\n  Button:focus {\n    background: #1683e8;\n    color: #fff;\n  }\n`;\n\nconst CardStyle = styled(Card)`\n  width: 400px;\n  margin: 0 auto;\n  border-radius: 15px;\n  box-shadow: 0 1px 2px -2px rgb(0 0 0 / 16%), 0 3px 6px 0 rgb(0 0 0 / 12%);\n  // 0 5px 12px 4px rgb(0 0 0 / 9%);\n`;\n\nconst HeaderWrapper = styled(Header)`\n  display: inline-block;\n  width: 100%;\n  height: 100px;\n  background: #f0f2f5;\n  //   opacity: 0.5;\n  font-size: 51px;\n  font-weight: bold;\n  text-align: center;\n  line-height: 100px;\n  color: #1890ff;\n  margin-top: 30px;\n`;\n\nconst ContentWrapper = styled(Content)`\n  height: 60vh;\n  background: #f0f2f5;\n`;"]},"metadata":{},"sourceType":"module"}