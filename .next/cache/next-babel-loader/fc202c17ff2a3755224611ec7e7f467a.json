{"ast":null,"code":"import { all, call, fork, put, takeLatest, take } from 'redux-saga/effects';\nimport { ADD_POST_FAILURE, ADD_POST_REQUEST, ADD_POST_SUCCESS, LOAD_POSTS_FAILURE, LOAD_POSTS_SUCCESS, LOAD_POSTS_REQUEST, ADD_COMMENT_REQUEST, ADD_COMMENT_FAILURE, ADD_COMMENT_SUCCESS } from '../reducers/post';\nimport axios from 'axios';\n\nfunction addPostAPI(data) {// return axios.post('/signup',data)\n}\n\nfunction* addPost(action) {\n  try {\n    // const result=yield call(addPostAPI,action.data)\n    console.log('ddddddddd');\n    yield put({\n      type: ADD_POST_SUCCESS,\n      data: action.data\n    });\n  } catch (err) {\n    yield put({\n      type: ADD_POST_FAILURE,\n      error: err.response.data\n    });\n  }\n}\n\nfunction loadPostsAPI() {\n  console.log('1111');\n  return axios.get('https://2yubi.shop/api/post/index');\n}\n\nfunction* loadPosts(action) {\n  try {\n    const result = yield call(loadPostsAPI);\n    console.log('result', result);\n    console.log('dong', result);\n    yield put({\n      type: LOAD_POSTS_SUCCESS,\n      data: result.data\n    });\n  } catch (err) {\n    yield put({\n      type: LOAD_POSTS_FAILURE,\n      error: 'xx'\n    });\n  }\n}\n\nfunction addCommentAPI(data) {// return axios.post('/loadPosts',data)\n}\n\nfunction* addComment(action) {\n  try {\n    // const result = yield call(addCommentAPI,action.data)\n    yield put({\n      type: ADD_COMMENT_SUCCESS,\n      data: action.data\n    });\n  } catch (err) {\n    yield put({\n      type: ADD_COMMENT_FAILURE,\n      error: 'err.response.data'\n    });\n  }\n}\n\nfunction* watchAddPost() {\n  yield takeLatest(ADD_POST_REQUEST, addPost);\n}\n\nfunction* watchLoadPosts() {\n  yield takeLatest(LOAD_POSTS_REQUEST, loadPosts);\n}\n\nfunction* watchAddComment() {\n  yield takeLatest(ADD_COMMENT_REQUEST, addComment);\n}\n\nexport default function* rootSaga() {\n  yield all([fork(watchAddPost), fork(watchLoadPosts), fork(watchAddComment)]);\n}","map":{"version":3,"sources":["/Users/dong/CapstonProject/sagas/post.js"],"names":["all","call","fork","put","takeLatest","take","ADD_POST_FAILURE","ADD_POST_REQUEST","ADD_POST_SUCCESS","LOAD_POSTS_FAILURE","LOAD_POSTS_SUCCESS","LOAD_POSTS_REQUEST","ADD_COMMENT_REQUEST","ADD_COMMENT_FAILURE","ADD_COMMENT_SUCCESS","axios","addPostAPI","data","addPost","action","console","log","type","err","error","response","loadPostsAPI","get","loadPosts","result","addCommentAPI","addComment","watchAddPost","watchLoadPosts","watchAddComment","rootSaga"],"mappings":"AACA,SAASA,GAAT,EAAaC,IAAb,EAAkBC,IAAlB,EAAuBC,GAAvB,EAA2BC,UAA3B,EAAuCC,IAAvC,QAAkD,oBAAlD;AAEA,SAASC,gBAAT,EAA2BC,gBAA3B,EAA6CC,gBAA7C,EAA+DC,kBAA/D,EAAmFC,kBAAnF,EAAsGC,kBAAtG,EAAyHC,mBAAzH,EAA6IC,mBAA7I,EAAiKC,mBAAjK,QAA2L,kBAA3L;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAAyB,CACzB;AACC;;AAED,UAAUC,OAAV,CAAkBC,MAAlB,EAAyB;AAErB,MAAG;AACC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACE,UAAMlB,GAAG,CAAC;AACNmB,MAAAA,IAAI,EAACd,gBADC;AAENS,MAAAA,IAAI,EAACE,MAAM,CAACF;AAFN,KAAD,CAAT;AAIH,GAPH,CAOG,OAAMM,GAAN,EAAU;AACP,UAAMpB,GAAG,CAAC;AACNmB,MAAAA,IAAI,EAAChB,gBADC;AAENkB,MAAAA,KAAK,EAACD,GAAG,CAACE,QAAJ,CAAaR;AAFb,KAAD,CAAT;AAKH;AACN;;AAGD,SAASS,YAAT,GAAuB;AACnBN,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAON,KAAK,CAACY,GAAN,CAAU,mCAAV,CAAP;AACC;;AAGL,UAAUC,SAAV,CAAoBT,MAApB,EAA2B;AACvB,MAAG;AACC,UAAMU,MAAM,GAAG,MAAM5B,IAAI,CAACyB,YAAD,CAAzB;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBQ,MAArB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBQ,MAAnB;AACA,UAAM1B,GAAG,CAAC;AACNmB,MAAAA,IAAI,EAACZ,kBADC;AAENO,MAAAA,IAAI,EAACY,MAAM,CAACZ;AAFN,KAAD,CAAT;AAKH,GATD,CASC,OAAMM,GAAN,EAAU;AACP,UAAMpB,GAAG,CAAC;AACNmB,MAAAA,IAAI,EAACb,kBADC;AAENe,MAAAA,KAAK,EAAC;AAFA,KAAD,CAAT;AAMH;AACJ;;AAED,SAASM,aAAT,CAAuBb,IAAvB,EAA4B,CACxB;AACC;;AAGL,UAAUc,UAAV,CAAqBZ,MAArB,EAA4B;AACxB,MAAG;AACC;AACA,UAAMhB,GAAG,CAAC;AACNmB,MAAAA,IAAI,EAACR,mBADC;AAENG,MAAAA,IAAI,EAACE,MAAM,CAACF;AAFN,KAAD,CAAT;AAKH,GAPD,CAOC,OAAMM,GAAN,EAAU;AACP,UAAMpB,GAAG,CAAC;AACNmB,MAAAA,IAAI,EAACT,mBADC;AAENW,MAAAA,KAAK,EAAC;AAFA,KAAD,CAAT;AAMH;AACJ;;AAID,UAAUQ,YAAV,GAAwB;AACpB,QAAM5B,UAAU,CAACG,gBAAD,EAAkBW,OAAlB,CAAhB;AACH;;AAED,UAAUe,cAAV,GAA0B;AACtB,QAAM7B,UAAU,CAACO,kBAAD,EAAoBiB,SAApB,CAAhB;AACH;;AACD,UAAUM,eAAV,GAA2B;AACvB,QAAM9B,UAAU,CAACQ,mBAAD,EAAqBmB,UAArB,CAAhB;AACH;;AAED,eAAe,UAAUI,QAAV,GAAoB;AAE/B,QAAMnC,GAAG,CAAC,CACNE,IAAI,CAAC8B,YAAD,CADE,EAEN9B,IAAI,CAAC+B,cAAD,CAFE,EAGN/B,IAAI,CAACgC,eAAD,CAHE,CAAD,CAAT;AAQH","sourcesContent":["\nimport { all,call,fork,put,takeLatest, take} from 'redux-saga/effects'\n\nimport { ADD_POST_FAILURE, ADD_POST_REQUEST, ADD_POST_SUCCESS, LOAD_POSTS_FAILURE, LOAD_POSTS_SUCCESS,LOAD_POSTS_REQUEST,ADD_COMMENT_REQUEST,ADD_COMMENT_FAILURE,ADD_COMMENT_SUCCESS} from '../reducers/post'\nimport axios from 'axios'\n\nfunction addPostAPI(data){\n// return axios.post('/signup',data)\n}\n\nfunction* addPost(action){\n\n    try{\n        // const result=yield call(addPostAPI,action.data)\n        console.log('ddddddddd')\n          yield put({\n              type:ADD_POST_SUCCESS,\n              data:action.data\n          })\n      }catch(err){\n          yield put({\n              type:ADD_POST_FAILURE,\n              error:err.response.data,\n               \n          })\n      }\n}\n\n\nfunction loadPostsAPI(){\n    console.log('1111')\n    return axios.get('https://2yubi.shop/api/post/index')\n    }\n    \n\nfunction* loadPosts(action){\n    try{\n        const result = yield call(loadPostsAPI)\n        console.log('result',result)\n        console.log('dong',result)\n        yield put({\n            type:LOAD_POSTS_SUCCESS,\n            data:result.data\n        })\n\n    }catch(err){\n        yield put({\n            type:LOAD_POSTS_FAILURE,\n            error:'xx',\n             \n        })\n\n    }\n}\n\nfunction addCommentAPI(data){\n    // return axios.post('/loadPosts',data)\n    }\n    \n\nfunction* addComment(action){\n    try{\n        // const result = yield call(addCommentAPI,action.data)\n        yield put({\n            type:ADD_COMMENT_SUCCESS,\n            data:action.data\n        })\n\n    }catch(err){\n        yield put({\n            type:ADD_COMMENT_FAILURE,\n            error:'err.response.data',\n             \n        })\n\n    }\n}\n\n\n\nfunction* watchAddPost(){\n    yield takeLatest(ADD_POST_REQUEST,addPost)\n}\n\nfunction* watchLoadPosts(){\n    yield takeLatest(LOAD_POSTS_REQUEST,loadPosts)\n}\nfunction* watchAddComment(){\n    yield takeLatest(ADD_COMMENT_REQUEST,addComment)\n}\n\nexport default function* rootSaga(){\n\n    yield all([\n        fork(watchAddPost),\n        fork(watchLoadPosts),\n        fork(watchAddComment),\n        \n      \n    ])\n\n}\n"]},"metadata":{},"sourceType":"module"}